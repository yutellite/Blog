```c
                                                                        1st map page(details)    0x2b8a2246b000                                      0x2b8a22643000                                         2nd map page(details)  seg_map_page_head->next=37748974(238)                                3rd map page(details)                                                                       
1st map page(segment map page(entry))                                   page_head  *(spc_page_head_t*)((dev_entry[9].mem_entry + 2*8192))            2nd map page                                           page_head  *(spc_page_head_t*)((dev_entry[9].mem_entry + 238*8192))                         page_head  *(spc_page_head_t*)((dev_entry[9].mem_entry + 491*8192))                                               
+-----------------------------+                                         +------------------------------------------+                                 +-----------------------------+                        +------------------------------------------+                                                +------------------------------------------+                                                
|page head   map_page_id      |80Byte                                   |latch;                                    |{spinlock = 0,latch_mode = 0,    |page head   map_page_id      |                        |latch;                                    |{spinlock = 0, latch_mode = 0, latch_cnt = 0}   |latch;                                    |{spinlock = 0, latch_mode = 0, latch_cnt = 0}   
|            map_offset       |                                         |mutex;                                    |0             latch_cnt = 0}     |            map_offset       |                        |mutex;                                    |0                                               |mutex;                                    |0                                               
|            (map info)       |                                         |chg_num;                                  |10250                            |            (map info)       |                        |chg_num;                                  |2018                                            |chg_num;                                  |1253                                            
|            map_page_id;     |                                         |page_id;                                  |37748738                         |            map_page_id;     |                        |page_id;                                  |37748974                                        |page_id;                                  |37749227                                        
|            map_offset;      |                                         |obj_id;                                   |66                               |            map_offset;      |                        |obj_id;                                   |66                                              |obj_id;                                   |66                                              
|            unused[2];       |                                         |page_create_no;                           |0                                |            unused[2];       |                        |page_create_no;                           |0                                               |page_create_no;                           |0                                               
|                             |                                         |seg_type;                                 |1                                |                             |                        |seg_type;                                 |1                                               |seg_type;                                 |1                                               
|            (page usage info)|                                         |page_type;                                |2                                |            (page usage info)|                        |page_type;                                |2                                               |page_type;                                |2                                               
|            free_begin;      |                                         |                                          |                                 |            free_begin;      |                        |                                          |                                                |                                          |                                                
|            free_end;        |                                         |(map info)                                |                                 |            free_end;        |                        |(map info)                                |                                                |(map info)                                |                                                
|            del_count;       |                                         |map_page_id;                              |4294967295=0xffffffff            |            del_count;       |                        |map_page_id;                              |4294967295=0xffffffff                           |map_page_id;                              |4294967295=0xffffffff                           
|            data_begin;      |->80+560=640                             |map_offset;                               |65535=0xffff                     |            data_begin;      |                        |map_offset;                               |65535=0xffff                                    |map_offset;                               |65535=0xffff                                    
|             ...             |                                         |unused[2];                                |0                                |             ...             |                        |unused[2];                                |0                                               |unused[2];                                |0                                               
|segment head  type           |560Byte                                  |                                          |                                 |seg_map_page_head            |                        |                                          |                                                |                                          |                                                
|             space_id        |                                         |(page usage info)                         |                                 |             prior           |                        |(page usage info)                         |                                                |(page usage info)                         |                                                
|             first_data_page | <-- first data page                     |free_begin;                               |640                              |             next      ------------>                  |free_begin;                               |80                                              |free_begin;                               |80                                             
|             last_page       |                                         |free_end;                                 |8184                             |             map_count       |                        |free_end;                                 |8184                                            |free_end;                                 |8184                                            
|             page_count      |                                         |del_count;                                |0                                |             map_capacity    |                        |del_count;                                |0                                               |del_count;                                |0                                               
|             free_lists      |                                         |data_begin;                               |640                              |page_map1     page_map2      |                        |data_begin;                               |80                                              |data_begin;                               |80                                             
|             free_map_list   |                                         |                                          |                                 |page_map3     page_mapN      |                        |                                          |                                                |                                          |                                                
|             ...             |                                         |(checkpoint info)                         |                                 |...           ...            |                        |(checkpoint info)                         |                                                |(checkpoint info)                         |                                                
|seg_map_page_head            |<--- page_addr + page_head.data_begin    |ckpt_id;                                  |466                              |              spc_page_tail_t| 8Byte                  |ckpt_id;                                  |0                                               |ckpt_id;                                  |0                                             
|             prior           | 12Byte                                  |mirror_page;                              |4294967295                       +-----------------------------+                        |mirror_page;                              |4294967295                                      |mirror_page;                              |4294967295                                      
|             next            | ---> 2nd map page                       |next_ckpt_page;                           |37748736                         map_capacity=(8192-80-8-12)/32=252                     |next_ckpt_page;                           |37748975(239)                                   |next_ckpt_page;                           |37749228(492)                                     
|             map_count       |                                         |dirty_flag;                               |0                                page_size-head-tail-map_head                           |dirty_flag;                               |1                                               |dirty_flag;                               |1                                               
|             map_capacity    | <--- the map capacity of cur page       |                                          |                                                                                        |                                          |                                                |                                          |                                                
|page_map1     page_map2      |                                         |valid_flag;                               |0                                  page_id=37748974                                     |valid_flag;                               |0                                               |valid_flag;                               |0                                               
|page_map3     page_mapN      | <--- N=map_count                        |                                          |                                                                                        |                                          |                                                |                                          |                                                
|...           ...            |                                         |(flag info)                               |                                                                                        |(flag info)                               |                                                |(flag info)                               |                                                
|              spc_page_tail_t| 8Byte                                   |flag;                                     |0                                                                                       |flag;                                     |0                                               |flag;                                     |0                                               
+-----------------------------+                                         |fl_flag;                                  |0                                                                                       |fl_flag;                                  |0                                               |fl_flag;                                  |0                                               
page_id=37748738                                                        |                                          |                                                                                        |                                          |                                                |                                          |                                                
                                                                        |hash_tab_head;                            |{used_flag = 0, unused = 0, page_count = 0}                                             |hash_tab_head;                            |{used_flag = 0, unused = 0, page_count = 0}     |hash_tab_head;                            |{used_flag = 0, unused = 0, page_count = 0}     
Note:the map page is a little different from                            |hash_page_type;                           |0                                                                                       |hash_page_type;                           |0                                               |hash_page_type;                           |0                                               
     the data page. cause every page map's length is same. so           |reserve[15];                              |0                                                                                       |reserve[15];                              |0                                               |reserve[15];                              |0                                               
     we don't need to record the offset of the page map. just need      +------------------------------------------+                                                                                        +------------------------------------------+                                                +------------------------------------------+                                                
     to offset*SEG_PAGE_MAP_SIZE to get the page map record's addr      seg_segment_head(*(seg_segment_head_t*)(page_addr+80))                                                                              seg_map_page_head  *(seg_map_page_head_t*)(page_add+80)                                     seg_map_page_head  *(seg_map_page_head_t*)(page_add+80)                                     
                                                                        +-----------------------------------+                                                                                               +-----------------------------------+                                                       +-----------------------------------+                                                       
                                                                        |schema_id;                         |0                                                                                              |seg_map_page_head                  |                                                       |seg_map_page_head                  |                                                       
                                                                        |obj_id;                            |66                                                                                             |             prior                 |37748738(2)                                            |             prior                 |0(2)                                            
                                                                        |obj_name[DB_MAX_NAME_LEN];         |TBL_YWX                                                                                        |             next                  |37749227(491)                                          |             next                  |0(491)                                          
                                                                        |create_no;                         |0                                                                                              |             map_count             |252                                                    |             map_count             |0                                                                           
                                                                        |type;                              |1                                                                                              |             map_capacity          |252                                                    |             map_capacity          |0                                                                           
                                                                        |space_id;                          |9                                                                                              +-----------------------------------+                                                       +-----------------------------------+                                                                              
                                                                        |                                   |                                                                                               page_map (640+12) seg_page_map_t                                                            page_map (640+12) seg_page_map_t               
                                                                        |last_map_page;                     |37749227 9->491                                                                                +-----------------------------------+                                                       +-----------------------------------+            
                                                                        |last_map_page_full;                |0                                                                                              |page_map  32B                      |                                                       |page_map  32B                      |          
                                                                        |first_data_page;                   |37748739 9->3                                                                                  | +-----------------+               |                                                       | +-----------------+               |          
                                                                        |last_page;                         |37749384 9->648                                                                                | |page_id;         |37748975(239)  |                                                       | |page_id;         |0(0)           |                
                                                                        |page_count;                        |647                                                                                            | |list_id;         |1              |                                                       | |list_id;         |0              |            
                                                                        |free_lists[SEG_FREE_LIST_COUNT];   |{{count = 0, first = {page_id = 4294967295, map_page = 4294967295, map_offset = 65535}         | |reserved[3];     |0              |                                                       | |reserved[3];     |0              |
                                                                        |                                   | {count=643,first={page_id=37749383(647),map_page=37749227(491),map_offset=155,reserved=65535}}| |                 |               |                                                       | |                 |               |
                                                                        |                                   | {count=0,first={page_id=4294967295,map_page=4294967295,map_offset=65535,reserved=65535}}      | |prior;           |               |                                                       | |prior;           |               |                                       
                                                                        |empty_list;                        |  page_id = 4294967295, map_page = 4294967295, map_offset = 65535, reserved = 65535}}          | |next;            |               |                                                       | |next;            |               |                                                
                                                                        |free_map_list;                     | page_id = 4294967295, map_page = 4294967295, map_offset = 65535, reserved = 65535}}           | +-----------------+               |                                                       | +-----------------+               |
                                                                        |min_list_id;                       |2                                                                                              +-----------------------------------+                                                       +-----------------------------------+          
                                                                        |pct_free;                          |20                                                                                             prior={page_id = 37748976(240), map_page = 37748974(238),map_offset = 1, reserved = 65535}                                               
                                                                        |reserve[2];                        |0                                                                                              next= {page_id = 37748973(237), map_page = 37748738(2), map_offset = 234, reserved = 65535}                                              
                                                                        |reserve2[64];                      |0                                                                                                                                                              
                                                                        |                                   |                                                                                                                                                                 
                                                                        |child_seg;                         | 
                                                                        +-----------------------------------+ 
                                                                        child_seg={btree = {root = 0, first_page = {0 <repeats 64 times>}, total_level = 0, reserve = "\000"}, heap = {reserved = "\000\000\000"},
                                                                         hash_tab = {unused = 0}, hash_bucket = {unused = 0}, undo = {hwm = 0, tid = 0, sid = 0, state = 0 '\000', reserved = "",       
                                                                        
                                                                        seg_map_page_head  *(seg_map_page_head_t*)(page_addr+640)       next_seg = 0}}}                                                                                                               
                                                                        +-----------------------------------+ 
                                                                        |seg_map_page_head                  |                                                                                                                                                                      
                                                                        |             prior                 |4294967295
                                                                        |             next                  |37748974(238)
                                                                        |             map_count             |235
                                                                        |             map_capacity          |235
                                                                        +-----------------------------------+ 
                                                                        page_map (640+12) seg_page_map_t  
                                                                        +-----------------------------------+
                                                                        |page_map  32B                      |
                                                                        | +-----------------+               |
                                                                        | |page_id;         |37748739       |
                                                                        | |list_id;         |7              |
                                                                        | |reserved[3];     |0              |
                                                                        | |                 |               |
                                                                        | |prior;           |               |  prior = {page_id = 37748740(4), map_page = 37748738(2),map_offset = 1, reserved = 65535}                                                             
                                                                        | |next;            |               |  next = {page_id = 4294967295, map_page = 4294967295, map_offset = 65535, reserved = 65535}}  
                                                                        | +-----------------+               |                                                                                                                             
                                                                        +-----------------------------------+
```
